<!DOCTYPE html>
<html>
<head>
<title>ACR and AKS</title>

	<meta name=”viewport” content=”width=device-width,  initial-scale=1, user-scalable=yes″>
<meta name="description" content="The Curriculum Vitae of Joe Bloggs."/>
<meta charset="UTF-8"> 

</head>
<style>

	
@viewport
  {
    width:extend-to-zoom;
    zoom:1.0;ACR and AKS
  }
@-ms-viewport
  {
     width:extend-to-zoom;
    zoom:1.0;
  }
	
html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,samp,small,strong,sub,sup,var,b,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,figcaption,figure,footer,header,hgroup,menu,nav,section,summary,time,mark,audio,video {
    border:0;
    font:inherit;
    font-size:100%;
    margin:0;
    padding:0;
    vertical-align:baseline;
    }
    
    article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section {
    display:block;
    }
    
    html, body {background: #181818; font-family: 'Lato', helvetica, arial, sans-serif; font-size: 16px; color: #222;}
    
    .clear {clear: both;}
    
    p {
        font-size: 1em;
        line-height: 1.4em;
        margin-bottom: 20px;
        color: #444;
    }
    
    #cv {
        width: 90%;
        max-width: 800px;
        background: #f3f3f3;
        margin: 30px auto;
    }
    
    .mainDetails {
        padding: 25px 35px;
        border-bottom: 2px solid #cf8a05;
        background: #ededed;
    }
    
    #name h1 {
        font-size: 2.5em;
        font-weight: 700;
        font-family: 'Rokkitt', Helvetica, Arial, sans-serif;
        margin-bottom: -6px;
    }
    
    #name h2 {
        font-size: 2em;
        margin-left: 2px;
        font-family: 'Rokkitt', Helvetica, Arial, sans-serif;
    }
    
    #mainArea {
        padding: 0 40px;
    }
    
    #headshot {
        width: 12.5%;
        float: left;
        margin-right: 30px;
    }
    
    #headshot img {
        width: 100%;
        height: auto;
        -webkit-border-radius: 50px;
        border-radius: 50px;
    }
    
    #name {
        float: left;
    }
    
    #contactDetails {
        float: right;
    }
    
    #contactDetails ul {
        list-style-type: none;
        font-size: 0.9em;
        margin-top: 2px;
    }
    
    #contactDetails ul li {
        margin-bottom: 3px;
        color: #444;
    }
    
    #contactDetails ul li a, a[href^=tel] {
        color: #444; 
        text-decoration: none;
        -webkit-transition: all .3s ease-in;
        -moz-transition: all .3s ease-in;
        -o-transition: all .3s ease-in;
        -ms-transition: all .3s ease-in;
        transition: all .3s ease-in;
    }
    
    #contactDetails ul li a:hover { 
        color: #cf8a05;
    }
    
    
    section {
        border-top: 1px solid #dedede;
        padding: 20px 0 0;
    }
    
    section:first-child {
        border-top: 0;
    }
    
    section:last-child {
        padding: 20px 0 10px;
    }
    
    .sectionTitle {
        float: left;
        width: 25%;
    }
    
    .sectionContent {
        float: right;
        width: 72.5%;
    }
    
    .sectionTitle h1 {
        font-family: 'Rokkitt', Helvetica, Arial, sans-serif;
        font-style: italic;
        font-size: 1.5em;
        color: #cf8a05;
    }
    
    .sectionContent h2 {
        font-family: 'Rokkitt', Helvetica, Arial, sans-serif;
        font-size: 1.5em;
        margin-bottom: -2px;
    }
    
    .subDetails {
        font-size: 0.8em;
        font-style: italic;
        margin-bottom: 3px;
    }
    
    .keySkills {
        list-style-type: none;
        -moz-column-count:3;
        -webkit-column-count:3;
        column-count:3;
        margin-bottom: 20px;
        font-size: 1em;
        color: #444;
    }
    
    .keySkills ul li {
        margin-bottom: 3px;
    }
    
    @media all and (min-width: 602px) and (max-width: 800px) {
        #headshot {
            display: none;
        }
        
        .keySkills {
        -moz-column-count:2;
        -webkit-column-count:2;
        column-count:2;
        }
    }
    
    @media all and (max-width: 601px) {
        #cv {
            width: 95%;
            margin: 10px auto;
            min-width: 280px;
        }
        
        #headshot {
            display: none;
        }
        
        #name, #contactDetails {
            float: none;
            width: 100%;
            text-align: center;
        }
        
        .sectionTitle, .sectionContent {
            float: none;
            width: 100%;
        }
        
        .sectionTitle {
            margin-left: -2px;
            font-size: 1.25em;
        }
        
        .keySkills {
            -moz-column-count:2;
            -webkit-column-count:2;
            column-count:2;
        }
    }
    
    @media all and (max-width: 480px) {
        .mainDetails {
            padding: 15px 15px;
        }
        
        section {
            padding: 15px 0 0;
        }
        
        #mainArea {
            padding: 0 25px;
        }
    
        
        .keySkills {
        -moz-column-count:1;
        -webkit-column-count:1;
        column-count:1;
        }
        
        #name h1 {
            line-height: .8em;
            margin-bottom: 4px;
        }
    }
    
    @media print {
        #cv {
            width: 100%;
        }
    }
    
    @-webkit-keyframes reset {
        0% {
            opacity: 0;
        }
        100% {
            opacity: 0;
        }
    }
    
    @-webkit-keyframes fade-in {
        0% {
            opacity: 0;
        }
        40% {
            opacity: 0;
        }
        100% {
            opacity: 1;
        }
    }
    
    @-moz-keyframes reset {
        0% {
            opacity: 0;
        }
        100% {
            opacity: 0;
        }
    }
    
    @-moz-keyframes fade-in {
        0% {
            opacity: 0;
        }
        40% {
            opacity: 0;
        }
        100% {
            opacity: 1;
        }
    }
    
    @keyframes reset {
        0% {
            opacity: 0;
        }
        100% {
            opacity: 0;
        }
    }
    
    @keyframes fade-in {
        0% {
            opacity: 0;
        }
        40% {
            opacity: 0;
        }
        100% {
            opacity: 1;
        }
    }
    
    .instaFade {
        -webkit-animation-name: reset, fade-in;
        -webkit-animation-duration: 1.5s;
        -webkit-animation-timing-function: ease-in;
        
        -moz-animation-name: reset, fade-in;
        -moz-animation-duration: 1.5s;
        -moz-animation-timing-function: ease-in;
        
        animation-name: reset, fade-in;
        animation-duration: 1.5s;
        animation-timing-function: ease-in;
    }
    
    .quickFade {
        -webkit-animation-name: reset, fade-in;
        -webkit-animation-duration: 2.5s;
        -webkit-animation-timing-function: ease-in;
        
        -moz-animation-name: reset, fade-in;
        -moz-animation-duration: 2.5s;
        -moz-animation-timing-function: ease-in;
        
        animation-name: reset, fade-in;
        animation-duration: 2.5s;
        animation-timing-function: ease-in;
    }
     
    .delayOne {
        -webkit-animation-delay: 0, .5s;
        -moz-animation-delay: 0, .5s;
        animation-delay: 0, .5s;
    }
    
    .delayTwo {
        -webkit-animation-delay: 0, 1s;
        -moz-animation-delay: 0, 1s;
        animation-delay: 0, 1s;
    }
    
    .delayThree {
        -webkit-animation-delay: 0, 1.5s;
        -moz-animation-delay: 0, 1.5s;
        animation-delay: 0, 1.5s;
    }
    
    .delayFour {
        -webkit-animation-delay: 0, 2s;
        -moz-animation-delay: 0, 2s;
        animation-delay: 0, 2s;
    }
    
    .delayFive {
        -webkit-animation-delay: 0, 2.5s;
        -moz-animation-delay: 0, 2.5s;
        animation-delay: 0, 2.5s;
	}
	

    .headings
    {
        font-size: xx-large;
    }
    .mini-headings
    {
        font-size: x-large;
        font-style: oblique;
        color:darkgoldenrod
    }






</style>





<body id="top">

<div id="cv" class="instaFade">
	<div class="mainDetails">
		<div id="headshot" class="quickFade">
			<img src="data:image/png;base64,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">
		</div>
		
		<div id="name">
			<h1 class="quickFade delayTwo">Containerization with Azure</h1>
			<!-- <h2 class="quickFade delayThree">DevOps</h2> -->
		</div>
		
		<div id="contactDetails" class="quickFade delayFour">
			<ul>
                <li>Introduction to Containerization</li>
                <li>Azure Container Registry</li>
                <li>Azure Kubernetes Service</li>
		</div>
		<div class="clear"></div>
	</div>
	





	    <div id="mainArea" class="quickFade delayFive">
		    
            <p>
                <center>
                    <h1 class="headings">
                        Introduction to Containerization
                    </h1>
                </center> <br>
            <div class="mini-headings">Containers</div>
            A container is a readymade software environment that has the application code and its dependency’s preloaded within an image.
            <br><br>
            Whilst machine virtualisation operates at the hardware level and provides a way to run multiple instances of an operating system, containers on the other hand share the host operating system and run using isolated processes.
            <br><br>
            <center>
                <img src="assets/aks/1.png">
            </center>
            <br>
            The container engine allows each application (container) to run on top of the host operating system but remain isolated from each other. 
            <br>
            <div class="mini-headings">Container Image</div>
            A container image is a self-contained piece of software that has everything in it needed to run – code, tools, and resources.        
        </p> <hr>
            <p>
                <center>
                    <h1 class="headings">
                        Azure Container Registry
                    </h1>
                </center> <br>
                Azure Container Registry provides storage of private Docker container images, enabling fast, scalable retrieval, and network-close deployment of container workloads on Azure.
                <br><br><div class="mini-headings">Features</div>
                - Securely stores your Docker Images 

<br>- Easy to setup & provision in Azure Cloud

<br>- Supports High availability

<br>- Cost is really inexpensive compared to other options available in the market to store Docker Images
<br>
<br>
Microsoft currently offers three versions of ACR: Basic, Standard, and Premium, at three different price points.
                Basic has the lowest capacity; Premium includes support for replication across regions and adds image signing support. You’re most likely to use Standard, which gives you 100GB of storage, 60MBps download bandwidth, and supports as many as 10 Web hooks. Pricing is per registry per day, with additional network costs and a separate charge for CPU usage when building new container images.
                <br><br>
                Creating a new container registry is relatively easy, using either the Azure CLI or Portal. ACR instances are tied to resource groups, so you can have a separate registry for each application you run on Azure. Once a registry has been created, you’re given the URL of a log-in server. This is the end point for integration with devops tools or your developers’ desktop Docker instances.
                <br><br>
                <div class="mini-headings">
                    Demo On Azure container registry.
                </div>
                <ul>
                    <li>Create an angular application</li>
                    <li>Prepare Dockerfile for it.<br><br>
                        <center>
                            <img src="assets/aks/acra.png">
                        </center>
                    </li><br>
                    <li>
                        Build docker image from this dockerfile using command : <div style="color: red;">docker build -t acrrepo/image1.0 .</div>
                        <img src="assets/aks/acr5.png" width="720px">
                        
                    </li><br>
                    <li>
                        Install azure Cli using following steps :<br>
                        <center>
                            <img src="assets/aks/acraz.png" width="720px">
                        </center>
                    </li><br>
                    <li>
                        Create a resource group : <div style="color: red;">az group create --name acrdemo --location eastus2</div>
                    </li><br>
                    <li>
                        Create an acr : <div style="color: red;">az acr create --resource-group acrdemo --name rohan2567acr --sku Basic --admin-enabled true</div>
                    </li><br>
                    <li>
                        Now, Login to Azure Container Registry : <div style="color:red;">az acr login --name rohan2567acr</div> 
                        <br><center>
                            <img src="assets/aks/acr2.png">
                        </center>
                    </li><br>
                    <li>
                        To be able to push Docker images to Azure Container Registry, they need to be tagged with the loginServer name of the Registry. These tags     are used for routing purposes when we push these Docker images to Azure.
To figure out the loginServer name of the Azure Container Registry we just created you can use the following command:
<div style="color: red;">az acr list --resource-group acrdemo --query "[].{acrLoginServer:loginServer}" --output table</div>
<br>
<center>
    <img src="assets/aks/acr3.png">
</center>          
</li><br>
<li>
   Now, tag the previous created image to makeit ready to push it in acr.
   <div style="color:red">docker tag acrrepo/image1.0 rohan2567acr.azurecr.io/image1.0</div> 
</li><br>
<li>
Now, push into acr. <div style="color: red;">docker push rohan2567acr.azurecr.io/image1.0</div>
</li><br>
<li>
Verify : <div style="color: red;">az acr repository list -n rohan2567acr</div><br>
<center>
    <img src="assets/aks/azr6.png">
</center> 
</li>
                </ul>




            </p> <hr>
            <p>
                <center>
                    <h1 class="headings">
                        Azure Kubernetes Service
                    </h1>
                </center> <br>
                AKS is an open-source fully managed container orchestration service that can be used to deploy, scale and manage Docker containers and container-based applications in a cluster environment.<br><br>
                Azure Kubernetes Service offers provisioning, scaling, and upgrades of resources as per requirement or demand without any downtime in the Kubernetes cluster and the best thing about AKS is that you don’t require deep knowledge and expertise in container orchestration to manage AKS.
                <br><br>
                AKS is a free container service where nothing will be charged for Kubernetes cluster management. You’ll have to pay only for the cloud resources such as VMs, storage, and network resources you consume makes it the most cost-effective container orchestration service in the market.
                <br><br>
                <div class="mini-headings">Demo on AKS</div>
                <ul>
                    <li>
                        There are a number of configuration options that can be submitted when creating an AKS cluster. One such setting is the version of Kubernetes to run on the cluster. Depending on your needs, you may choose to run an older or newer version of Kubernetes.
                        <br>So, firstly choose the required version.
                        <br><br><div style="color: red;">az aks get-versions --location eastus2 -o table</div>
                        <br><center>
                            <img src="assets/aks/aks1.png">
                        </center>
                    </li>
                    <br>
                    <li>
                        Create an aks cluster 
                        <br><div style="color: red;">az aks create --resource-group acrdemo --name rohan2567aks --kubernetes-version 1.19.1 --location eastus2 --node-count 2 --generate-ssh-keys</div>
                    </li><br>
                    <li>
                        Once the AKS cluster is built, the next step is to retrieve the credentials that will be used with kubectl. Kubectl is the command-line program that manages the cluster.
                        <br><br>
                        To download the credentials, query the AKS cluster by using the az aks get-credentials command specifying the resource group and name of the cluster
                        <br>
                        <div style="color: red;">az aks get-credentials --resource-group acrdemo --name rohan2567aks</div>
                        <br>
                        <center>
                            <img src="assets/aks/aks2.png">
                        </center>
                    </li>
                    <br>
                    <li>
                        Now attach the ACR to AKS cluster.
                        <div style="color: red;">az aks update -n rohan2567aks -g acrdemo --attach-acr rohan2567acr</div>
                    </li><br>
<li>
    Now Install the kubectl command.
    <br><br>
    <div style="color: red;">sudo apt-get update && sudo apt-get install -y apt-transport-https gnupg2 curl</div>
    <div style="color: red;">curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -</div>
    <div style="color: red;">echo "deb https://apt.kubernetes.io/ kubernetes-xenial main" | sudo tee -a /etc/apt/sources.list.d/kubernetes.list</div>
    <div style="color: red;">sudo apt-get update</div>
    <div style="color: red;">sudo apt-get install -y kubectl</div>
    <div style="color: red;">kubectl version --client</div>
</li>
<br>
<li>
    Now export the kubeconfig variable.
    <div style="color: red;">export KUBECONFIG=/home/hp/.kube/config</div>
</li>
<br>
<li>
    Verify the creation of nodes.
    <div style="color: red;">kubectl get nodes</div>
    <center>
        <img src="assets/aks/aks3.png" width="720px">
    </center>
</li>
<br>
<li>
    Now, get the acr login name as it would be used in the kubernetes manifest file.
    <div style="color: red;">az acr list --resource-group acrdemo --query "[].{acrLoginServer:loginServer}" --output table</div>
</li>
<br>
<li>
    Now, create the deployment file.
    <center>
        <img src="assets/aks/aks-dep.png">
    </center>
</li>
<br>
<li>
    Execute the below command to get pods and deployment running.
    <div style="color: red;">kubectl create -f acr-deployment.yaml</div>
    <br>
    Now, check nodes, services and by using external IP , you can access your application.
    <center>
        <img src="assets/aks/aks-dep0.png">
    </center>
    <br>
    Open your browser using external IP and the port.
    <center>
        <img src="assets/aks/app.png">
    </center>
</li>
                
                
                
                </ul>
            </p> <hr>





	    </div>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-3753241-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>
</body>
</html>

